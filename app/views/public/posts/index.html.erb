<div class="container">
    <div class="row">
        <div class="col">
            <h2 class="mt-3">PostIndex</h2>
            
            <div>
                <%= search_form_for @q, url: posts_path, method: :get do |f| %>
                  <%= f.search_field :title_or_body_cont, placeholder: 'Keyword search' %>
                  
                  <%= f.submit 'Search' %>
                <% end %>
            </div>
                
            <table class="table table-hover mt-3">
                <tbody>
                    <% @posts.each do |post| %>
                        <tr>
                            <td>
                                <%= link_to user_path(post.user.id) do %>
                                    <%= image_tag post.user.get_profile_image(70,70), 
                                            style: "border-radius: 50%; width: 70px; height: 70px; object-fit:cover;" %>
                                    <%= post.user.name %>
                                <% end %>
                            </td>
                            <td><h4><%= link_to post.title, post_path(post.id) %></h4>
                            <td>
                                <i class="fas fa-heart" aria-hidden="true" style="color: red;"></i>
                                <%= post.favorites.count %>
                            </td>
                        </tr>
                    <% end %>
                </tbody>
            </table>
            
             <%= paginate @posts %>
        </div>
    </div>
</div>